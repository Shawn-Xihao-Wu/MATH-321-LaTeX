\documentclass[12pt]{article}
\usepackage{yassification}

% Page style
\pagestyle{fancy}
\setlength{\headheight}{15pt}
% Define header
\rhead{36123040 Shawn Wu}
\lhead{MATH 321 HW 01} % Put your actual assignment number here
\cfoot{\thepage}

\begin{document}

% Problem 1
\begin{fproof}[1]
  First notice that since \(f\) is a constant function always equals to 1, \(m_i = M_i = 1\) for all \(i\), for any partition \(P\).
  Therefore, for any partition \(P\),
  \begin{align*}
    U(P,f, \alpha) = \sum_i M_i \Delta \alpha_i = \sum \Delta \alpha_i = \alpha(b) - \alpha(a),
  \end{align*}
  as the sum telescopes.
  Similarly, for any partition \(P\),
  \begin{align*}
    L(P,f, \alpha) = \sum_i m_i \Delta \alpha_i = \sum \Delta \alpha_i = \alpha(b) - \alpha(a).
  \end{align*}
  Since the upper and lower Stieltjes sums both remain the same no matter the partition we choose, hence based on the definition of upper and lower Stieltjes integrals,
  \begin{align*}
    \upint{a}{b} f \dalf = \alpha(b) - \alpha(a) = \loint{a}{b} f \dalf.
  \end{align*} 
  And since the upper and lower Stieltjes integrals agree, 
  \begin{align*}
    \int_{a}^{b} f \dalf = \alpha(b) - \alpha(a).
  \end{align*}
\end{fproof}

\newpage

% Problem 2
\begin{fproof}[2]
  First notice that given any partition \(P\) (assuming all points are distinct), \(M_i = 1\) for any \(i\), since in any non-trivial closed sub-intervals of \([a,b]\), there are points that are not in \(S\).
  Therefore, for any partition \(P\),
  \begin{align*}
    U(P, f, \alpha) = \sum_i M_i \Delta x_i = \sum_i \Delta x_i = b - a.
  \end{align*}
  This means that,
  \begin{align*}
    \upint{a}{b} f \dx = b - a.
  \end{align*}
  It remains to show the lower Riemann integral is also \(b-a\), 
  i.e., \(\sup_{P} L(P, f) = b-a\).

  First notice that \(b-a\) is an upper bound of all the lower Riemann sums as \(m_i \leq 1\) for all i, for any partition \(P\).
  Now let \(\varepsilon > 0\) be given.
  We show that there exists a partition \(P\) such that \(b-a - \varepsilon < L(P,f)\), which establishes that the supremum of all the lower Riemann integrals is indeed \(b-a\).
  Note that for any partition \(P\),
  \begin{align*}
    L(P,f) = b - a - \sum_j \Delta x_j,
  \end{align*}
  where the \(\sum_j \Delta x_j\) term comes from the sub-intervals from \(P\) that contains points of \(S\).
  We thus choose a partition \(P\) such that \(\Delta x_i < \varepsilon/k\).
  Since \(\sum_j \Delta x_j\) contains at most \(k\) summands, \(\sum_j \Delta x_j < \varepsilon\) in this partition \(P\), which gives \(L(P,f) > b-a-\varepsilon\).

  Since the lower and upper Riemann integral agree and equal to \(b-a\), \(f\) is Riemann-integrable and \(\int_{a}^{b} f \dx = b-a\).



\end{fproof}

\newpage

% Problem 3
\begin{fproof}[3]
  Let \(\alpha\) be just the identity function on \([a,b]\) and let \(f\) be a modified Dirichlet function:
\[
f(x) = \begin{cases}
  1 &\text{ if } x \in [a,b] \cap \mathbb{Q},\\
  -1 &\text{ otherwise.}
\end{cases}
\]
Note that given any partition \(P\), all the non-trivial sub-intervals \([x_{i-1}, x_i]\) from \(P\) contain both irrational and rational points.
Therefore, \(M_i = 1\) and \(m_i = -1\) for all \(i\), for any partition \(P\), which means that the upper Stieltjes sum (which is just the upper Riemann sum) is always \(b-a\) and the lower Stieltjes sum (which is just the lower Riemann sum) is always \(a-b\), no matter the partition we choose.
This means that
\begin{align*}
  b-a = \upint{a}{b} \dalf \neq \loint{a}{b} \dalf = a-b,
\end{align*}
as \(b \neq a\).
Therefore, \(f \notin \mathcal{R}_{\alpha}[a,b]\).
However, notice that \(\abs{f}\) is the constant 1 function, which is always Stieltjes-integrable as it is continuous.
\end{fproof}
\newpage

% Problem 4
\begin{fproof}[4(a)]
  This function is Stieltjes-integrable and \(\int_{-1}^{1} f \dalf = -1\).
  First note that given any partition \(P\), \(\Delta \alpha_i = 0\) if \([x_{i-1}, x_i] \subseteq [-1,0)\) or \([x_{i-1}, x_i] \subseteq [0,1]\).
  Therefore, \(P\) has the same effect as its sub-partition \(Q = \set{x_i,x_j}\subseteq P\) where \([x_i,x_j]\) contains the origin (\(x_i \neq 0\)).
  Now take the refinement \(Q^*\) by adding the origin, i.e., \(Q^* = [x_i, x_{i^*}, x_j]\) where \(x_{i^*} = 0\).
  Hence, we see that 
  \begin{align*}
    U(P) \geq U(Q^*) = M_{i^*} (\alpha(0) - \alpha(x_i)) = -1 \cdot 1  = -1.
  \end{align*}
  Similarly,
  \begin{align*}
    L(P) \leq L(Q^*) = m_{i^*} (\alpha(0) - \alpha(x_i)) = -1 \cdot 1 = -1.
  \end{align*}
  Since \(P\) is arbitrary,
  we see that \(\sup_P L(P) = -1 = \inf_P U(P)\), i.e. the lower integral agrees with the upper integral.
  Hence, the integral value is \(-1\).

\end{fproof}

\begin{fproof}[4(b)]
  We claim that \(f \in \mathcal{R}_{\alpha}[-1,1]\) and \(\int_{-1}^{1} \dalf = 1\).
  First note that given any partition \(P\), \(\Delta \alpha_i = 0\) if \([x_{i-1}, x_i] \subseteq [-1,0]\) or \([x_{i-1}, x_i] \subseteq (0,1]\).
  Therefore, \(P\) has the same effect as its sub-partition \(Q = \set{x_i, x_j} \subseteq P\) where \([x_i,x_j]\) contains the origin (\(x_j \neq 0\)).
  Now take the refinement \(Q^*\) by adding the origin, i.e., \(Q^* = \set{x_i, x_{j^*}, x_j}\) where \(x_{j^*} = 0\).
  Hence,
  \begin{align*}
    U(P) \geq U(Q^*) = M_j(\alpha(x_j) - \alpha(0)) = 1 \cdot 1 = 1.
  \end{align*}
  Similarly,
  \begin{align*}
    L(P) \leq L(Q^*) = m_j(\alpha(x_j) - \alpha(0)) = 1 \cdot 1 = 1.
  \end{align*}
  Since \(P\) is arbitrary, we see that \(\sup_P L(P) = 1 = \inf_P U(P)\), i.e., the lower integral agrees with the upper integral. Hence the integral is \(1\).
\end{fproof}

\begin{fproof}[4(c)]
  This function is not Stieltjes-integrable.
  It is suffice to show that \(U(P) - L(P) \geq 2\) for all partition \(P\), then by Theorem 6.6, \(f \notin \mathcal{R}_{\alpha}[-1,1]\).
  
  Let partition \(P\) on \([-1,1]\) be arbitrary. Let \(P^*\) be the refinement of \(P\) by adding the point \(0\) in the partition.
  Then by Theorem 4.4, \(U(P) - L(P) \geq U(P^*) - L(P^*)\).
  Suppose within \(P\), \(x_{I} = 0\) for some \(I\) (assume all the partition points are distinct).
  Then, \(\Delta \alpha_i = 0\) for any \(i \neq I\), and \(M_I = 1, m_I = -1, \Delta \alpha_I = 1\).
  Therefore,
  \begin{align*}
    U(P) - L(P) \geq U(P^*) - L(P^*) = (M_I - m_I) \Delta \alpha_I = 2 \cdot 1 = 2.
  \end{align*}
\end{fproof}

\begin{fproof}[4(d)]
   Note that \(f\) is continuous on \([-1,1]\); hence by Rudin Theorem 6.8, \(f \in \mathcal{R}_{\alpha}[-1,1]\).

   We claim that \(\int_{-1}^{1} f \dalf = 1\).
   We need to show that \(\sup_P L(P) = 1 = \inf_P U(P)\).
   Now take any partition \(P\).
   We take the refinement \(P^*\) that includes the origin. Then \(L(P) \leq L(P^*)\) and \(U(P^*) \leq U(P)\).
   Also note that since \(\alpha\) is a piece-wise function comprised of constant functions, \(\Delta \alpha_i = 0\) if \([x_{i-1}, x_i] \subseteq (-1, 0]\) or \([x_{i-1}, x_i] \subseteq (0,1)\).
   Therefore, \(P^*\) has the same effect as \(Q = \set{-1, x_1, 0, x_3, x_4, 1}\) where \(x_1 \in (-1,0), x_3,x_4 \in (0,1)\).
   We can further assume that \(x_1 = -1 + \varepsilon, x_3 = \varepsilon, x_4 = 1-\varepsilon\) for some \(\varepsilon\) some enough.
   Therefore,
   \begin{align*}
    U(Q) & = \sum_{i=1}^{5}M_i \Delta \alpha_i = M_1 \cdot 1 + M_2 \cdot 0 + M_3 \cdot 2 + M_4 \cdot 0 +  M_5 \cdot 2\\
    & = M_1 + 2M_3 + 2M_5\\
    & = (-1 + \varepsilon) + 2\varepsilon + 2\\
    & = 1 + 3 \varepsilon.
   \end{align*}
   Therefore, \(\inf_P U(P)= 1\) as \(\varepsilon\) can be arbitrarily small.
   Similarly,
   \begin{align*}
    L(Q) & = \sum_{i=1}^{5}m_i \Delta \alpha_i = m_1 \cdot 1 + m_2 \cdot 0 + m_3 \cdot 2 + m_4 \cdot 0 +  m_5 \cdot 2\\
    &= m_1 + 2m_3 + 2m_5\\
    &= -1 + 2 \cdot 0 + 2 \cdot (1- \varepsilon)\\
    & = 1-2 \varepsilon.
   \end{align*}
   Therefore, \(\sup_P L(P) = 1\).
   Hence, the integral is \(1\).
\end{fproof}
\newpage

% Problem 5
\begin{fproof}[5]
  We show that \(f \in \mathcal{R}[0,1]\) by showing that for all \(\varepsilon > 0,\) there exists a partition \(P_{\varepsilon}\) such that \(U(P_{\varepsilon},f) - L(P_{\varepsilon},f) < \varepsilon\).

  We first claim that given any partition \(P = \{x_0, x_1, \cdots, x_n\},\) \(L(P,f) = 0\) always.
  To see this, note that given any closed interval \([a,b] \subseteq [0,1]\) where \(a < b,\) there are always irrational numbers within \([a,b]\) as irrational numbers are dense in \(\mathbb{R}\).
  Therefore, we have \(\inf_{x \in [a,b]} f(x) = 0.\)
  This means that
  \begin{align*}
    L(P,f) = \sum_{i = 1}^{n} m_i \Delta x_i = \sum_{i=1}^{n} 0 \cdot \Delta x_i = 0.
  \end{align*}
  It remains to show that given any \(\varepsilon > 0,\) there exists a partition \(P_{\varepsilon},\) such that \(U(P_{\varepsilon}, f) < \varepsilon.\)
  
  Let \(\varepsilon > 0\) be given. Then by Archimedean Property, we know there exists \(q \in \mathbb{N},\) such that \(\frac{1}{q} < \frac{\varepsilon}{2}.\)
  We note that there are only finitely many of \(x\)'s within \([0,1]\) where \(f(x) \geq \frac{1}{q};\) let \(\mathcal{F} \subseteq [0,1]\) be such set of \(x\)'s and let \(|\mathcal{F}| = N\) (we choose \(q\) big enough so that \(N \geq 1\)).
  We also note that the range of \(f\) on \([0,1]\) is bounded above by 1.

  Given the above information we create the partition \(P_{\varepsilon}\) in the following way.
  We list the elements of \(\mathcal{F}\) for the smallest to the largest, i.e., \(\mathcal{F} = \{z_1, z_2, \cdots, z_N\}.\)
  For each \(i\) from 1 to \(N,\) let \([a_i,b_i]\) be the closed interval contains \(z_i\) where \(0 < b_i-a_i < \frac{\varepsilon}{2N}.\) Then shrink each \([a_i, b_i]\) if necessary to make sure all \([a_i, b_i]\) intervals are pairwise disjoint. Add all final \(a_i\)'s and \(b_i\)'s to \(P_{\varepsilon}.\) 

  Now list \(P_{\varepsilon} = \{x_0, x_1, \cdots, x_K\}\) where \(K\) is some natural number.
  Now we know \(U(P_{\varepsilon}, f) = \sum_{j=1}^{K} M_j \Delta x_j.\)
  Thus for each \(j\) from 1 to \(K,\) either \([x_{j-1}, x_j] \cap \mathcal{F} \neq \varnothing\) or not by above construction. And if \([x_{j-1}, x_j] \cap \mathcal{F} \neq \varnothing,\) then \(M_i < 1\); note that we have precisely \(N\) number of such intervals. If \([x_{j-1}, x_j] \cap \mathcal{F} = \varnothing,\) then \(M_i < \frac{1}{q}\); note that we have precisely \(K-N\) number of such intervals.
  Hence,
  \begin{align*}
    U(P_{\varepsilon}, f) &= \sum_{j=1}^{K} M_i \Delta x_j\\
    &= \sum_{j | [x_{j-1}, x_j] \cap \mathcal{F} \neq \varnothing} M_j \Delta x_j + \sum_{j | [x_{j-1}, x_j] \cap \mathcal{F} = \varnothing} M_j \Delta x_j\\
    &< \sum_{j | [x_{j-1}, x_j] \cap \mathcal{F} \neq \varnothing} 1 \cdot \frac{\varepsilon}{2N} + \sum_{j | [x_{j-1}, x_j] \cap \mathcal{F} = \varnothing} \frac{1}{q} \cdot \Delta x_j\\
    &\leq \sum_{j | [x_{j-1}, x_j] \cap \mathcal{F} \neq \varnothing} \frac{\varepsilon}{2N} + \sum_{j=1}^{K} \frac{1}{q} \cdot \Delta x_j\\
    & = N \cdot \frac{\varepsilon}{2N} + \frac{1}{q} (x_K - x_0)\\
    & = \frac{\varepsilon}{2} + \frac{1}{q}\\
    &< \frac{\varepsilon}{2} +\frac{\varepsilon}{2}\\
    & = \varepsilon
  \end{align*}
  And since the lower partition always equal to zero, the lower integral must also be zero. This means that the integral is zero as well. 
\end{fproof}
\end{document}